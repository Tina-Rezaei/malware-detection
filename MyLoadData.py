import numpy as np
import os
import random
from random import shuffle


def LoadData(path, label, bytes_num):

    X = {'all_data': [], 'all_label': []}
    file_list = os.listdir(path)

    for File in file_list:

        file = open(os.path.join(path,File), "rb")
        data = file.read()
        bytes = [(byte) for byte in data]

        if len(bytes) < bytes_num:
            continue

        X["all_data"].append(bytes[:bytes_num])
        X["all_label"].append([label])
        file.close()

    # shuffle data
    x_train = (X['all_data'])
    random.shuffle(x_train)
    X['all_data'] = (x_train)

    return X


def Run_LoadData(byte_num):

    # load data for 10fold
    X_ben = LoadData("/content/drive/My Drive/code/our dataset/benign/", 0., byte_num)
    X_mal = LoadData("/content/drive/My Drive/code/our dataset/malware/", 1., byte_num)
  
    return X_ben, X_mal
